<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1.0">
    <title>Instructions</title>	
	<script src="jspsych-6.3.1/jspsych.js" ></script>
	<script src='./jspsych-6.3.1/plugins/jspsych-instructions.js'></script>
	<script src="jatos.js"></script>
	<link rel="stylesheet" href="jspsych-6.3.1/css/jspsych.css" type="text/css"></link>
	<link rel="stylesheet" href="./extra_files/custom.css" type="text/css"></link>	
  </head>

  <body>
  <script>

		//start timeline
		jatos.onLoad(function() {

		
			//make a timeline
			let timeline =[]; 

			// Define pages for phase 1
			let instruction_pages = [			
				'<div class= "header">'+
					'<h1> Instructions </h1>'+
				'</div>'+	
				'<div class="instruct">'+
					'<p>Welcome to the experiment!</p>' + 
				'</div>',																										
			];

			let instructions = {
				type: 'instructions',
				pages : instruction_pages,						
				show_clickable_nav: true,
				button_label_next: '<span style="color: black"d;> <strong> Next </stong></span>',
			};

			timeline.push(instructions);

			jsPsych.init({
				
				timeline: timeline,

				on_finish: function(data) {

					// Make JATOS remember that this session was run
                    jatos.studySessionData.latestFinishedComponentId    = jatos.componentId;
                    jatos.studySessionData.latestFinishedComponentPos   = jatos.componentPos;
                    jatos.studySessionData.latestFinishedComponentTitle = jatos.componentProperties.title;

					// Record results
					// jatos.studySessionData.outputData.instructions_results = jsPsych.data.get().values()[0];

					jatos.submitResultData('[instructions_start_' + '---' + 
					JSON.stringify(jatos.studySessionData) +
					'---' + '_instructions_end]', 
					jatos.startNextComponent);

					// jsPsych.data.displayData();
				}
			});

		});


	</script>
</body>
</html>